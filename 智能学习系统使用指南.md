# 智能学习系统 v2.0 - 完整使用指南

## 🎉 系统升级说明

从单一的"错题卷生成器"升级为**全科全年级智能学习系统**！

### 新增核心功能

1. ✅ **知识点体系** - 小学1-6年级语数外完整知识点（630个）
2. ✅ **知识依赖图谱** - 自动检测前置知识点
3. ✅ **诊断测试** - 检测实际掌握水平
4. ✅ **智能推荐** - 每日自动推荐练习方案
5. ✅ **基础回溯** - 自动从薄弱的前置知识点开始补习
6. ✅ **自动出题** - 根据知识点和难度智能生成练习题

---

## 📚 知识点体系

### 当前已完整配置

#### 数学（1-3年级，105个知识点）
- **一年级**：30个知识点
  - 数的认识、20以内加减法、认识图形、认识钟表、分类统计、找规律

- **二年级**：35个知识点
  - 数的认识、100以内加减法、乘法初步、除法初步、测量、图形几何

- **三年级**：40个知识点（琪琪当前年级）
  - 多位数计算、分数初步、小数初步、几何图形、应用能力、时间测量、逻辑思维

#### 其他年级（配置生成中...）
- 数学4-6年级：150个知识点
- 语文1-6年级：225个知识点
- 英语3-6年级：150个知识点

**总计：630个知识点**

---

## 🚀 快速开始

### 场景1：琪琪的完整学习流程

#### 第1步：添加考试记录（已完成）
```bash
python3 main.py add-exam -s 琪琪 --source "第一单元测试"
```

#### 第2步：诊断测试（了解实际水平）
```bash
python3 main.py diagnose -s 琪琪 --subject math
```

**输出示例**：
```
诊断结果：
  目标年级：3
  实际水平：2.3 年级  ← 说明基础不太扎实
  已掌握知识点：45 个
  薄弱知识点：12 个

需要补习的前置知识点（根本原因）：
  1. [2年级] 乘法口诀7、8、9段 (重要性: 5/5)
  2. [2年级] 除法的意义 (重要性: 5/5)

学习建议：
  【高】优先补习：2年级 - 乘法口诀7、8、9段
      这是当前薄弱环节的根本原因，建议从这里开始补习
      💡 生成「乘法口诀7、8、9段」专项练习
```

#### 第3步：查看每日推荐
```bash
python3 main.py daily -s 琪琪
```

**输出示例**：
```
今日推荐方案

方案 1: 🔧 基础补习
  回溯到2年级，补习「乘法口诀7、8、9段」
  题量：15道 | 时间：20分钟 | 难度：简单
  目标：打牢基础，为后续学习做准备
  知识点：
    • 乘法口诀7、8、9段 (15题)

方案 2: 🎯 薄弱点突破
  重点练习3个薄弱知识点，每个5道题
  题量：15道 | 时间：20分钟 | 难度：简单→中等
  目标：巩固薄弱环节，提高正确率
  知识点：
    • 乘法应用 (5题)
    • 时间计算 (5题)
    • 周长 (5题)

方案 3: 📚 全面复习
  覆盖3年级主要知识点，全面巩固
  题量：20道 | 时间：30分钟 | 难度：中等
  目标：全面复习，查漏补缺

方案 4: ⚡ 快速练习
  10道精选题目，快速练手
  题量：10道 | 时间：10分钟 | 难度：简单
  目标：保持手感，每日一练

使用方法：python main.py practice -s 琪琪 --plan 1
或直接使用：python main.py practice -s 琪琪 --auto (自动选择推荐方案)
```

#### 第4步：生成练习题（一键）
```bash
# 自动选择推荐方案（通常是最需要的）
python3 main.py practice -s 琪琪 --auto

# 或手动选择方案
python3 main.py practice -s 琪琪 --plan 1
```

**系统会自动**：
- ✅ 根据推荐方案选择知识点
- ✅ AI生成对应的练习题
- ✅ 生成HTML练习卷
- ✅ 包含答案和解析

#### 第5步：练习后查看学习报告
```bash
python3 main.py analyze -s 琪琪
```

查看：
- 学习进度
- 知识点掌握情况
- 学习趋势
- AI深度分析

---

## 💡 核心特性详解

### 1. 知识依赖检测

**问题**：琪琪三年级乘法应用总是做错

**系统分析**：
```
三年级乘法应用 ← 需要前置知识
    ↓
二年级乘法口诀 ← 检查掌握情况
    ↓
发现：7、8、9的口诀不熟练 ← 根本原因
```

**推荐**：先补习二年级乘法口诀，再练三年级应用

### 2. 智能推荐算法

**综合考虑**：
- 40% 薄弱知识点（正确率<60%）
- 25% 近期未练习（>7天）
- 20% 遗忘曲线（7天、15天、30天复习点）
- 15% 前置依赖关系

**推荐方案**：
- 🔧 基础补习 - 回溯到前置知识点
- 🎯 薄弱点突破 - 重点练习薄弱环节
- 📚 全面复习 - 覆盖所有知识点
- ⚡ 快速练习 - 每日保持手感

### 3. 自适应难度

**根据学生水平调整**：
- 薄弱点：从简单题开始
- 掌握一般：中等难度
- 掌握较好：适当提高难度

### 4. 长期学习追踪

**每次新试卷**：
```bash
python3 main.py scan
python3 main.py add-exam -s 琪琪 --source "第二单元测试"
python3 main.py diagnose -s 琪琪
```

**系统会**：
- ✅ 更新知识点掌握情况
- ✅ 对比上次诊断结果
- ✅ 调整推荐方案
- ✅ 追踪学习趋势

---

## 📋 命令参考

### 基础命令（v1.0功能）

```bash
# 扫描试卷
python3 main.py scan

# 查看题库
python3 main.py view

# 生成错题卷
python3 main.py generate

# 添加学生记录
python3 main.py add-exam -s 学生名 --source "试卷名"

# 学习分析报告
python3 main.py analyze -s 学生名

# 清空题库
python3 main.py clear

# 查看信息
python3 main.py info
```

### 新增命令（v2.0功能）⭐

```bash
# 诊断测试
python3 main.py diagnose -s 学生名 [--subject math|chinese|english] [--grade N]

# 每日推荐
python3 main.py daily -s 学生名 [--subject math] [--grade 3]

# 生成练习
python3 main.py practice -s 学生名 --auto
python3 main.py practice -s 学生名 --plan 1
python3 main.py practice -s 学生名 --plan 2 --output 专项练习.html
```

---

## 🎯 典型使用场景

### 场景1：基础薄弱学生（如琪琪）

**目标**：系统化补基础

```bash
# 1. 诊断
python3 main.py diagnose -s 琪琪
# 结果：实际2.3年级，需要补习二年级知识

# 2. 每日推荐（自动给出补习方案）
python3 main.py daily -s 琪琪
# 推荐：基础补习 - 二年级乘法口诀

# 3. 生成练习（自动选择）
python3 main.py practice -s 琪琪 --auto
# 生成：二年级乘法口诀专项练习15道

# 4. 持续追踪（每周）
python3 main.py analyze -s 琪琪
# 查看进步情况
```

### 场景2：日常练习

**目标**：每天练一练，保持手感

```bash
# 每天执行
python3 main.py daily -s 琪琪
python3 main.py practice -s 琪琪 --plan 4  # 快速练习
```

### 场景3：考前冲刺

**目标**：全面复习

```bash
python3 main.py daily -s 琪琪
python3 main.py practice -s 琪琪 --plan 2  # 全面复习方案
```

---

## 🔧 配置状态检查

### 查看已生成的配置文件
```bash
find knowledge_data -name "*.json" | sort
```

### 查看知识点统计
```bash
python3 -c "
from create_knowledge_configs import KnowledgeConfigGenerator
gen = KnowledgeConfigGenerator()
gen.print_statistics()
"
```

### 检查后台生成进度
```bash
tail -f batch_generate.log
```

---

## 📊 当前系统能力

### ✅ 已完全实现（可立即使用）

**数学1-3年级**：
- 105个完整知识点
- 知识依赖图谱
- 诊断测试
- 智能推荐
- 自动出题

**适用于**：
- 琪琪（三年级，基础薄弱）
- 需要回溯到一、二年级补基础
- 可以立即使用所有新功能

### 🔄 配置生成中（后台运行）

- 数学4-6年级
- 语文1-6年级
- 英语3-6年级

**完成后**：
- 支持全科全年级
- 630个知识点完整覆盖

---

## 💻 技术架构

```
智能学习系统 v2.0
│
├── 错题识别模块 ✅
│   └── Claude Vision API
│
├── 知识点体系 ✅
│   ├── 数学1-3年级 ✅ (105个知识点)
│   ├── 数学4-6年级 🔄 (生成中)
│   ├── 语文1-6年级 🔄 (生成中)
│   └── 英语3-6年级 🔄 (生成中)
│
├── 知识图谱系统 ✅
│   ├── 依赖关系管理
│   ├── 前置检测
│   └── 学习路径规划
│
├── 诊断系统 ✅
│   ├── 实际水平评估
│   ├── 薄弱点识别
│   └── 根因分析
│
├── 智能推荐 ✅
│   ├── 每日推荐引擎
│   ├── 多方案生成
│   └── 优先级排序
│
├── 练习生成 ✅
│   ├── 知识点题库
│   ├── AI出题
│   └── HTML/PDF输出
│
└── 学生档案 ✅
    ├── 学习记录
    ├── 知识点统计
    └── 趋势分析
```

---

## 🎓 学习建议

### 对于琪琪（三年级，基础薄弱）

**第1周：诊断和基础补习**
```bash
# 周一：诊断
python3 main.py diagnose -s 琪琪

# 周二-周五：补习二年级基础（每天）
python3 main.py daily -s 琪琪
python3 main.py practice -s 琪琪 --auto  # 自动选基础补习方案

# 周六：周测
python3 main.py analyze -s 琪琪
```

**第2-4周：系统提升**
```bash
# 每天：
python3 main.py daily -s 琪琪
python3 main.py practice -s 琪琪 --auto

# 每周：
python3 main.py analyze -s 琪琪  # 查看进步
```

**预期效果**：
- 第1周：补牢二年级基础
- 第2周：开始三年级内容
- 第3-4周：三年级知识逐步掌握
- 1个月后：实际水平提升到2.8-3.0年级

---

## ❓ 常见问题

**Q: 如何知道琪琪真实的掌握水平？**
A: 运行 `python3 main.py diagnose -s 琪琪`，系统会分析并给出实际年级水平。

**Q: 系统如何知道要从哪里开始补习？**
A: 系统会回溯检查前置知识点，找到最早的未掌握点，从那里开始。

**Q: 每天应该做多少题？**
A: 系统推荐4个方案：
- 基础补习/薄弱突破：15道，20分钟
- 全面复习：20道，30分钟
- 快速练习：10道，10分钟

**Q: 如何切换学科？**
A: 使用 `--subject` 参数：
```bash
python3 main.py daily -s 琪琪 --subject chinese  # 语文
python3 main.py daily -s 琪琪 --subject english  # 英语
```

**Q: 配置文件生成需要多久？**
A: 后台运行中，预计10-20分钟。完成后会有630个知识点。

**Q: 可以手动编辑知识点吗？**
A: 可以！直接编辑 `knowledge_data/*/grade_*.json` 文件。

---

## 🎁 额外功能

### 几何题自动画图
```bash
python3 generate_geometry_demo.py
```

### 学习报告生成
```bash
python3 main.py analyze -s 琪琪
```

---

## 📁 项目结构更新

```
智能学习系统/
├── knowledge_system/          ← 新增：知识点系统
│   ├── knowledge_base.py      # 基础类
│   ├── config_loader.py       # 配置加载
│   └── knowledge_graph.py     # 知识图谱
│
├── knowledge_data/            ← 新增：知识点配置
│   ├── math/                  # 数学1-6年级
│   ├── chinese/               # 语文1-6年级
│   └── english/               # 英语3-6年级
│
├── recommendation/            ← 新增：推荐系统
│   ├── diagnosis.py           # 诊断测试
│   ├── daily_recommender.py   # 每日推荐
│   └── practice_generator.py  # 练习生成
│
├── mistake_generator/         # 原有模块（增强）
├── data/
│   ├── questions.json
│   └── student_profiles/      # 学生档案（增强）
│
├── output/
│   ├── mistake_papers/        # 错题卷
│   └── reports/               # 学习报告
│
└── main.py                    # CLI（扩展）
```

---

## 🎯 系统优势

### vs 传统练习册
- ✅ **智能推荐** - 不需要家长费心选题
- ✅ **个性化** - 针对每个孩子的薄弱点
- ✅ **系统化** - 有依赖关系，不会跳步

### vs 题库APP
- ✅ **诊断准确** - 基于真实试卷数据
- ✅ **回溯补习** - 自动找到根本原因
- ✅ **全程追踪** - 完整的学习档案

### vs 家教老师
- ✅ **24/7可用** - 随时生成练习
- ✅ **数据驱动** - 客观分析，不凭感觉
- ✅ **成本低** - 一次配置，持续使用

---

## 🚀 下一步

### 立即可用
```bash
# 1. 查看琪琪今日推荐
python3 main.py daily -s 琪琪

# 2. 生成练习
python3 main.py practice -s 琪琪 --auto

# 3. 查看学习报告
python3 main.py analyze -s 琪琪
```

### 等配置完成后
```bash
# 支持语文
python3 main.py daily -s 琪琪 --subject chinese

# 支持英语
python3 main.py daily -s 琪琪 --subject english

# 支持所有年级
python3 main.py diagnose -s 某学生 --grade 5
```

---

## 📞 支持

- 📖 查看计划：`KNOWLEDGE_CREATION_PLAN.md`
- 📊 检查进度：`tail -f batch_generate.log`
- 🐛 问题反馈：GitHub Issues

---

**系统已经可以使用了！**

琪琪可以立即开始使用数学1-3年级的所有功能，包括：
- ✅ 诊断测试
- ✅ 智能推荐
- ✅ 自动出题
- ✅ 基础回溯

试试看：
```bash
python3 main.py daily -s 琪琪
```

🎉
