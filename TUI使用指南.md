# TUI终端界面使用指南

## 🎨 什么是TUI？

TUI（Terminal User Interface）是在终端中运行的图形化界面程序，比纯命令行更直观易用，同时保持轻量级和快速响应的特点。

---

## 🚀 快速开始

### 启动TUI
```bash
python3 tui_app.py
```

### 首次使用
1. 启动后会看到Dashboard主页
2. 显示琪琪的学习概况
3. 使用侧边栏或快捷键导航

---

## ⌨️ 快捷键

### 全局快捷键
```
Q        - 退出应用
H        - 显示帮助
Ctrl+S   - 切换学生
Ctrl+R   - 刷新数据
```

### 快速导航
```
1        - 主页（Dashboard）
2        - 今日推荐
3        - 诊断测试
4        - 学习报告
5        - 扫描试卷
6        - 学生管理
7        - 设置
```

### 界面内操作
```
B/Esc    - 返回上一界面
Enter    - 确认/提交
↑↓       - 上下选择
Space    - 选中/展开
Tab      - 切换焦点
```

---

## 📱 界面导航

### 主页（Dashboard）
**功能**：
- 查看学习概况
- 查看薄弱知识点
- 快速跳转到其他功能

**显示内容**：
- 📊 总题数、错题数、正确率、实际水平
- 🎯 今日推荐预览
- 🔴 薄弱知识点Top 3
- ⚡ 快捷操作按钮

**操作**：
- 点击按钮或使用快捷键D/R/P/A

### 今日推荐
**功能**：
- 查看4个推荐练习方案
- 选择并开始练习

**显示内容**：
- ⭐ 推荐方案（高亮显示）
- 📊 题量、时间、难度
- 🎯 学习目标
- 📚 知识点列表

**操作**：
- ↑↓ 选择方案
- Enter 开始练习

### 诊断测试
**功能**：
- 诊断学生实际水平
- 识别薄弱的前置知识点

**显示内容**：
- 🎯 目标年级 vs 实际水平
- 📊 掌握情况
- 🔴 需要补习的知识点
- 💡 学习建议

**操作**：
- P 开始补习练习
- B 返回

### 学习报告
**功能**：
- 查看完整学习分析

**显示内容**：
- 📈 总体统计
- 🔴 薄弱知识点详细列表
- 🟢 掌握良好的知识点
- 🤖 AI分析建议

**操作**：
- ↑↓ 滚动查看
- E 导出HTML报告
- B 返回

### 扫描试卷
**功能**：
- 引导用户扫描新试卷

**提示**：
- 使用CLI命令扫描

---

## 🎯 典型使用流程

### 每日学习流程

**第1步：启动TUI**
```bash
python3 tui_app.py
```

**第2步：查看Dashboard**
- 自动显示主页
- 查看学习概况

**第3步：查看今日推荐**
- 按 `2` 或点击"今日推荐"
- 系统自动推荐最需要的练习

**第4步：开始练习**
- 选择推荐方案
- 按 `Enter` 开始

**第5步：查看进步**
- 按 `4` 查看学习报告
- 对比上次的进步

---

## 🎨 界面特点

### 1. 美观的终端界面
- 彩色显示
- 清晰的布局
- 进度条可视化

### 2. 便捷的导航
- 侧边栏菜单
- 数字键快速跳转
- 面包屑导航

### 3. 实时更新
- 时间自动更新
- 数据实时刷新
- 状态即时反馈

### 4. 响应式设计
- 自适应终端大小
- 滚动查看长内容
- 合理的布局

---

## ⚙️ 配置

### 修改默认学生
编辑 `ui/tui/state.py`：
```python
current_student: str = "你的学生名"
```

### 修改主题颜色
编辑 `ui/tui/styles.css`

### 自定义快捷键
编辑 `ui/tui/app.py` 中的 `BINDINGS`

---

## 🔧 故障排除

### TUI无法启动
```bash
# 检查依赖
pip install textual

# 检查Python版本
python3 --version  # 需要3.10+

# 查看错误详情
python3 tui_app.py
```

### 界面显示异常
- 确保终端窗口足够大（至少80x24）
- 使用现代终端（推荐：iTerm2、Windows Terminal）
- 检查终端是否支持真彩色

### 数据加载失败
- 确保已有学生档案数据
- 运行 `python3 main.py add-exam -s 琪琪`
- 检查知识点配置文件存在

---

## 📊 当前功能状态

### ✅ 已实现（可用）
- ✅ 基础框架和布局
- ✅ Dashboard主页
- ✅ 每日推荐界面
- ✅ 诊断测试界面
- ✅ 学习报告界面
- ✅ 扫描试卷提示
- ✅ 导航系统
- ✅ 快捷键

### 🔄 开发中
- 🔄 练习答题界面（最复杂，待实现）
- 🔄 学生管理界面
- 🔄 设置界面

### 💡 临时方案
在TUI未完全实现的功能，可以使用CLI命令：
```bash
# 生成练习
python3 main.py practice -s 琪琪 --auto

# 添加考试记录
python3 main.py add-exam -s 琪琪
```

---

## 🎉 使用建议

### 推荐工作流

**方式1：TUI + CLI混合（当前最佳）**
```bash
# 使用TUI查看数据
python3 tui_app.py
# -> 查看Dashboard
# -> 查看今日推荐
# -> 查看诊断结果

# 使用CLI执行操作
python3 main.py practice -s 琪琪 --auto
python3 main.py add-exam -s 琪琪
```

**方式2：纯CLI（完全可用）**
```bash
python3 main.py diagnose -s 琪琪
python3 main.py daily -s 琪琪
python3 main.py practice -s 琪琪 --auto
```

**方式3：等TUI完全完成（未来）**
```bash
python3 tui_app.py
# 所有功能都在TUI内完成
```

---

## 📝 后续开发

### 待完善功能
1. 练习答题界面（重要）
2. 学生管理（便捷性）
3. 设置界面（个性化）

### 计划增强
1. 更美观的主题
2. 动画效果
3. 数据图表
4. 实时统计

---

## 💡 贡献

欢迎贡献代码完善TUI功能！

开发指南：
- 参考 `TUI_IMPLEMENTATION_PLAN.md`
- 遵循已有的代码风格
- 使用Textual最佳实践

---

**当前TUI已经可以运行了！试试看：**

```bash
python3 tui_app.py
```

使用数字键1-5在不同界面间切换，按Q退出。

🎉
